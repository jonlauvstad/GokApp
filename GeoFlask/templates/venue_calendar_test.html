{% extends "layout.html" %}
{% block head %}
<link rel="stylesheet" href="../static/styles_venues.css">
{% endblock %}

{% block title %}Room Calendar{% endblock %}

{% block main %}
<script src="../static/JS/toVenue_Calendar.js"></script>

<!-- BROWSER VIEW OMITTED FOR BREVITY -->

<!-- MOBILE VIEW -->
<div id="venue_cal_MobDiv">
    <div style="text-align: center; margin-bottom: 20px;">
        <label style="font-size: 30px; font-style: inherit"><b>ROOM CALENDAR ðŸšª</b></label>
    </div>

    <!-- Venue Selector -->
    <div class="venue-selector">
        <label for="venueDropdown">Choose a venue:</label>
        <select id="venueDropdown" onchange="filterVenue()">
            <option value="all">All Venues</option>
            {% for venue in venues %}
            <option value="{{ venue.id }}">{{ venue.name }}</option>
            {% endfor %}
        </select>
    </div>

    <!-- Date Picker -->
    <div>
        <label for="filterDate">Filter Date:</label>
        <input type="date" id="filterDate" name="filterDate" onchange="filterVenue()">
    </div>

    <!-- Venue and Events Display -->
    {% for venue in venues %}
    <div id="venue-info-{{ venue.id }}" class="venue" style="display: none;">
        <h2>{{ venue.name }}</h2>
        {% for ed in days %}
        <div class="date" id="date-{{ ed.date.strftime('%Y-%m-%d')}}">
            <h3>{{ ed.datestring }}</h3>
            {% for event in ed.events %}
            {% if event.venueId == venue.id %}
            <div class="event" data-venue-id="{{ event.venueId }}" data-date="{{ event.date | date: 'Y-m-d' }}">
                <p>{{ event.courseImpName }}</p>
                <p>{{ event.datetime | date: '%H:%M' }} - {{ event.datetimeEnd | date: '%H:%M' }}</p>
            </div>
            {% endif %}
            {% endfor %}
        </div>
        {% endfor %}
    </div>
    {% endfor %}
</div>

{% endblock %}
